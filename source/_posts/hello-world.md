title: 新的开始
tags:
  - 日常
categories:
  - 日常
author: Vaskka
date: 2018-12-19 20:03:00
---
> 终于是没再造轮子，经过深思熟虑后（不），我最后还是放弃了用django重写博客的想法，经过一下午的折腾博客成功上线。

## 腾讯云上搭建Hexo


#### 环境介绍
###### 本地环境
node v8.12.0
npm  v6.4.1

###### 云上环境
ubuntu 16.04 lts
nginx

#### 一切就绪，开搞！

##### 部署思路
服务器端充当git服务器和暴露公网的作用，在本地准备好项目后，通过git上传到云端的repo中。云端接收到post后通过脚本自动checkout到nginx代理的根目录中。从而实现部署即上线的效果。

##### Step 1:
配置nginx环境+git环境，这步不细说了，遇到错误网上的方法都能解决，需要准备nginx的根目录path和我们git-repo的path。
##### Step 2:
创建一个git用户，给到sudo权限，在刚刚准备的git-repo目录中初始化仓库。之后进行hooks的配置，在hooks文件夹中新建文件post-receive，之后写入
`git --work-tree=>>nginx代理的根目录<< --git-dir=>>git-repo的path<< checkout -f`
我们看到这句shell就很容易可以明白hexo的部署思路了，别忘了结束的时候把git用户的shell权限拿掉。
##### Step 3:
本地npm初始化hexo，hexo的全部配置都在.yml中进行，各种云开发集成的也都不错，把deploy的地址改到我们的git服务器上就可以看到blog已经部署成功了。

#### 一些闲谈
新的博客是在大二上学期的期末左右上线的，之后会更新一些算法的整理，比赛的经历，或者项目的技术介绍，或者任何有趣的事情。
 >（很神奇的一点，之前信誓旦旦的说要在博客上线之后好好中二一把，结果真正写起来发现并没有那么多的骚话可以说2333...总之继续加油吧！）