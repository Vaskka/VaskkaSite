title: database-note-8
author: Vaskka
tags:
  - database
  - note
categories:
  - notes
date: 2019-05-06 08:16:00
---
# 关系集/图

> 左侧和右侧是实体本身，常量可以放在中间。

## ER

左侧和右侧是实体本身，中间是联系表，联系本身的属性（其他属性例如时间日期）可以放在上面（用虚线）。

### 多对多

A实体可以联系$0,...,\*$个B实体，B实体也可以联系$0,...,\*$个A实体。

#### 联系的属性

要取**多端实体**的主键作为属性（外键）。（Mapping）

### 复合属性

> 名字可能包含first_name, last_name,...
> 地址可能包含城市街道

#### 记法

在ER中，使用**缩进**来表示。

#### 转换为表

复合属性不会再出现，被子属性而替代。

### 派生属性

> 可以由一些属性计算得到

#### 记法

在属性后加一对括号(), *attr()*

#### 转换为表

不再出现，直接删掉

### 多值属性

一个属性可能有多个值（nosql中直接用list表示）

#### 记法

在属性上加一对大括号*{attr}*

#### 转换为表

用一个新表（*外键引用主实体*）进行mapping处理。

### Roles（角色）

> 当某个实体要跟自己发生联系时，在ER的关系的线上表明Roles是什么。

### 一对一

> 整体相似与多对多，在箭头上一对一时箭头，多对多时横线。

### 其他联系

+ 连线上双横线代表全部record都被映射。
+ 弱实体无主键，需要依赖强实体的主键一起构成自己的主键。


